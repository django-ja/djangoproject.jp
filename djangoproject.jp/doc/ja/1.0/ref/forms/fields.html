<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>フォームフィールド &mdash; Django v1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../../',
          VERSION:     '1.0',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="contents" title="Global table of contents" href="../../contents.html" />
    <link rel="index" title="Global index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Django v1.0 documentation" href="../../index.html" />
    <link rel="up" title="フォーム API" href="index.html" />
    <link rel="next" title="ウィジェット" href="widgets.html" />
    <link rel="prev" title="フォーム API" href="api.html" />
  </head>
  <body>
  <div id="outdated-warning" class="doc-floating-warning" style="position: relative;">
    このドキュメントの Django のバージョンにはセキュリティ上の脆弱性があるため、すでにサポートが終了されています。新しいバージョンにアップグレードしてください！<a href="https://docs.djangoproject.com/ja/">最新の Django のバージョンのドキュメントはこちら</a>
  </div>
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Django v1.0 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">ホーム</a>  |
        <a title="Table of contents" href="../../contents.html">目次</a>  |
        <a title="Global index" href="../../genindex.html">索引</a>  |
        <a title="Search" href="../../modindex.html">モジュール一覧</a>
      </div>
      <div class="nav">
    &laquo; <a href="api.html" title="フォーム API">前へ</a> 
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">上へ</a>
   |
    <a href="widgets.html" title="ウィジェット">次へ</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-forms-fields">
            
  
  <div class="section" id="s-module-django.forms.fields">
<span id="s-form-fields"></span><span id="s-ref-forms-fields"></span><h1>フォームフィールド<a class="headerlink" href="#module-django.forms.fields" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">revision-up-to:</th><td class="field-body">8961 (1.0)</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="django.forms.Field">
<!--[django.forms.Field]-->class <tt class="descname">Field</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.Field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームクラスの作成で一番重要なのは、フォームの各フィールドの定義です。各
フィールドには固有のデータ検証ロジックと、いくつかのフックが備わっています。</p>
<dl class="method">
<dt id="django.forms.Field.clean">
<!--[django.forms.Field.clean]--><tt class="descclassname">Field.</tt><tt class="descname">clean</tt>(<em>value</em>)<a class="headerlink" href="#django.forms.Field.clean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>フィールドクラスの主な用途はフォームクラスにおけるフィールド定義ですが、フィー
ルドクラスは直接インスタンス化して使えるので、フィールドの動作を理解する役
に立つはずです。各フィールドインスタンスは <tt class="docutils literal"><span class="pre">clean()</span></tt> メソッドを備えており、
単一の引数を取って検証を行い、その結果に応じて
<tt class="docutils literal"><span class="pre">django.newforms.ValidationError</span></tt> を送出するか、クリーニング済みの値を返
します:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;foo@example.com&#39;</span><span class="p">)</span>
<span class="go">u&#39;foo@example.com&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">u&#39;foo@example.com&#39;</span><span class="p">)</span>
<span class="go">u&#39;foo@example.com&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;invalid e-mail address&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[u&#39;Enter a valid e-mail address.&#39;]</span>
</pre></div>
<div class="section" id="s-id2">
<span id="s-core-field-arguments"></span><h2>フィールドの主な引数<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>各フィールドクラスのコンストラクタは、少なくとも以下に示す引数を取ります。
フィールドクラスによっては他にもフィールド固有の引数をとりますが。ここに示
す引数はどのフィールドクラスでも <em>常に</em> 指定できる引数です:</p>
<div class="section" id="s-required">
<h3><tt class="docutils literal"><span class="pre">required</span></tt><a class="headerlink" href="#required" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.required">
<!--[django.forms.Field.required]--><tt class="descclassname">Field.</tt><tt class="descname">required</tt><a class="headerlink" href="#django.forms.Field.required" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>デフォルトでは、フィールドクラスはフィールドが必須 (reqired) であると仮定し
ています。従って、フィールドに空の値、すなわち <tt class="xref docutils literal"><span class="pre">None</span></tt> や空文字列 (<tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>)
を渡すと、 <tt class="docutils literal"><span class="pre">clean()</span></tt> は <tt class="docutils literal"><span class="pre">VaridationError</span></tt> 例外を送出します:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">u&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[u&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[u&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
<span class="go">u&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">u&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="go">u&#39;True&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="go">u&#39;False&#39;</span>
</pre></div>
<p>必須で <em>ない</em> フィールドにするには、フィールドのコンストラクタに
<tt class="docutils literal"><span class="pre">required=False</span></tt> を指定します:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">u&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">u&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="go">u&#39;True&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="go">u&#39;False&#39;</span>
</pre></div>
<p><tt class="docutils literal"><span class="pre">required=False</span></tt> のフィールドの <tt class="docutils literal"><span class="pre">clean()</span></tt> に空の値を渡して呼び出すと、
<tt class="docutils literal"><span class="pre">clean()</span></tt> は <tt class="docutils literal"><span class="pre">VaridationError</span></tt> を送出する代わりに <em>正規化された</em> 空の値
を返します。例えば <tt class="docutils literal"><span class="pre">CharField</span></tt> の場合なら、 Unicode の空文字列になります。
その他のフィールドクラスでは <tt class="xref docutils literal"><span class="pre">None</span></tt> になるはずです (フィールドによって異
なります)。</p>
</div>
<div class="section" id="s-label">
<h3><tt class="docutils literal"><span class="pre">label</span></tt><a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.label">
<!--[django.forms.Field.label]--><tt class="descclassname">Field.</tt><tt class="descname">label</tt><a class="headerlink" href="#django.forms.Field.label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">label</span></tt> 引数を使うと、フィールドに「人間に優しい」ラベルを指定できます。
このラベルはフォーム内でフィールドを表示するときに使われます。</p>
<p>フィールドのデフォルトのラベルはフィールド名のアンダースコアを除去して、頭
文字を大文字にしたものです。デフォルトのラベル命名規則で期待通りのラベルが
出力されない場合には、この引数を指定してください。</p>
<p><tt class="docutils literal"><span class="pre">label</span></tt> を指定したフォームの例を以下に示します。出力を短くするために
<tt class="docutils literal"><span class="pre">auto_id=False</span></tt> にしています:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Your Web site&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Your name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Your Web site:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<div class="section" id="s-initial">
<h3><tt class="docutils literal"><span class="pre">initial</span></tt><a class="headerlink" href="#initial" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.initial">
<!--[django.forms.Field.initial]--><tt class="descclassname">Field.</tt><tt class="descname">initial</tt><a class="headerlink" href="#django.forms.Field.initial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">initial</span></tt> 引数を使うと、非束縛フォーム内でフィールドをレンダするときの初
期値を指定できます。</p>
<p>この引数を使うケースは、例えば以下のように、「空の」フォームの各フィールド
を特定の値で初期化して表示したい場合です:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;http://&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;Your name&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; value=&quot;http://&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
<p>こんなことをしなくても、フォームに初期データの入った辞書を渡せばいいのにと
思うかもしれませんね。しかし、フォームにデータを渡して束縛フォームにすると、
データを表示する際に検証がトリガされてしまい、 HTML 出力にバリデーションエ
ラーが入ってしまいます:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;Your name&#39;</span><span class="p">,</span> <span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;http://&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">default_data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;Your name&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid URL.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; value=&quot;http://&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
<p>このため、非束縛フォームの場合に限って <tt class="docutils literal"><span class="pre">initial</span></tt> に指定した値が出力される
ようになっているのです。束縛フォームの場合、出力は常に束縛済みのデータです。</p>
<p>また、 <tt class="docutils literal"><span class="pre">initial</span></tt> の指定値は、フィールドの値が指定されなかった場合の「フォー
ルバック用の」値には <em>ならない</em> ので注意が必要です。 <tt class="docutils literal"><span class="pre">initial</span></tt> の値は初期
値の入ったフォームの表示 <em>だけ</em> に用いられます:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;http://&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="s">&#39;Foo&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="go"># フォームの値は初期値にフォールバック *しません。*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{&#39;url&#39;: [u&#39;This field is required.&#39;], &#39;name&#39;: [u&#39;This field is required.&#39;]}</span>
</pre></div>
</div>
<div class="section" id="s-widget">
<h3><tt class="docutils literal"><span class="pre">widget</span></tt><a class="headerlink" href="#widget" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.widget">
<!--[django.forms.Field.widget]--><tt class="descclassname">Field.</tt><tt class="descname">widget</tt><a class="headerlink" href="#django.forms.Field.widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">widget</span></tt> 引数を使うと、フィールドをレンダリングするときの <tt class="docutils literal"><span class="pre">Widget</span></tt> クラ
スを指定できます。詳しくは <a class="reference external" href="widgets.html#ref-forms-widgets"><em>ウィジェット</em></a> を参照してください。</p>
</div>
<div class="section" id="s-help-text">
<h3><tt class="docutils literal"><span class="pre">help_text</span></tt><a class="headerlink" href="#help-text" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.help_text">
<!--[django.forms.Field.help_text]--><tt class="descclassname">Field.</tt><tt class="descname">help_text</tt><a class="headerlink" href="#django.forms.Field.help_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">help_text</span></tt> 引数を使うと、フィールドに説明文をつけられます。
<tt class="docutils literal"><span class="pre">help_text</span></tt> を指定した場合、フォームを (<tt class="docutils literal"><span class="pre">as_ul()</span></tt> のような) フォームメ
ソッドでレンダした時に、該当フィールドの隣に表示されます。</p>
<p>以下に、 <tt class="docutils literal"><span class="pre">help_text</span></tt> を使ったフォームの例を示します。この例では、フォーム
の二つのフィールドに <tt class="docutils literal"><span class="pre">help_text</span></tt> を指定しています。出力を単純にするために、
<tt class="docutils literal"><span class="pre">auto_id=False</span></tt> を指定しています:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">HelpTextContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">help_text</span><span class="o">=</span><span class="s">&#39;100 characters max.&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">sender</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">help_text</span><span class="o">=</span><span class="s">&#39;A valid e-mail address, please.&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">cc_myself</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">HelpTextContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Subject:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt;&lt;br /&gt;100 characters max.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Message:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Sender:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt;&lt;br /&gt;A valid e-mail address, please.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Cc myself:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&lt;li&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt; 100 characters max.&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt; A valid e-mail address, please.&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&lt;p&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; /&gt; 100 characters max.&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; /&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Sender: &lt;input type=&quot;text&quot; name=&quot;sender&quot; /&gt; A valid e-mail address, please.&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; /&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<div class="section" id="s-error-messages">
<h3><tt class="docutils literal"><span class="pre">error_messages</span></tt><a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<span class="title">Django 1.0 で新たに登場しました.</span> </div>
<dl class="attribute">
<dt id="django.forms.Field.error_messages">
<!--[django.forms.Field.error_messages]--><tt class="descclassname">Field.</tt><tt class="descname">error_messages</tt><a class="headerlink" href="#django.forms.Field.error_messages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">error_messages</span></tt> 引数を使うと、フィールドが送出するデフォルトのメッセージ
をオーバライドできます。オーバライドしたいメッセージに対応する文字列をキー
とし、メッセージを値に持つ辞書を渡してください。例えば、デフォルトのメッセー
ジが以下のようだったとします:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">generic</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generic</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[u&#39;This field is required.&#39;]</span>
</pre></div>
<p>カスタムのエラーメッセージは以下のようにして設定します:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">error_messages</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;required&#39;</span><span class="p">:</span> <span class="s">&#39;Please enter your name&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[u&#39;Please enter your name&#39;]</span>
</pre></div>
<p>各フィールドで定義されているエラーメッセージのキーは、後述の
<a class="reference internal" href="#id4">組み込みフォームフィールドクラス</a> の節で定義しています。</p>
</div>
</div>
<div class="section" id="s-id3">
<span id="s-dynamic-initial-values"></span><h2>初期値を動的に決定する<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>フィールドオブジェクトの <tt class="docutils literal"><span class="pre">initial</span></tt> 引数を使えばフィールドの初期値をハード
コードできます。では、初期値を動的に決めたい場合はどうすればよいのでしょう。
例えば、現在ログインしているユーザで <tt class="docutils literal"><span class="pre">username</span></tt> フィールドを埋めたいよう
な場合です。</p>
<p>動的に初期値を決めるには、フォームオブジェクトの <tt class="docutils literal"><span class="pre">initial</span></tt> 引数を使います。
この引数はフィールド名と初期値を対応づけた辞書として指定します。全てのフィー
ルドを含める必要はなく、初期値を設定したいフィールドだけでかまいません。例
を示しましょう:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;your username&#39;</span><span class="p">},</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;your username&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;another username&#39;</span><span class="p">},</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;another username&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
<p>フィールドの <tt class="docutils literal"><span class="pre">initial</span></tt> パラメタと同じく、フォームの初期値が表示されるのは
非束縛フォームだけであり、ユーザが特定のフィールドに値を入力しなかったとき
のフォールバックとしては使われません。</p>
<p>最後に、フィールドに <tt class="docutils literal"><span class="pre">initial</span></tt> が定義されていて、 <em>かつ</em> フォームの初期化
時にも <tt class="docutils literal"><span class="pre">initial</span></tt> を指定した場合、後者の <tt class="docutils literal"><span class="pre">initial</span></tt> が優先されるので気を
付けてください。例えば、以下のように、フィールドとフォームの両方に
<tt class="docutils literal"><span class="pre">initial</span></tt> を指定した場合、フォームの値の方が使われます:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s">&#39;class&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;instance&#39;</span><span class="p">},</span> <span class="n">auto_id</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;instance&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;url&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<div class="section" id="s-id4">
<span id="s-built-in-field-classes"></span><h2>組み込みフォームフィールドクラス<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>通常、 <tt class="docutils literal"><span class="pre">forms</span></tt> ライブラリには、一般的なバリデーション機能を備えたフィー
ルドクラスのセットがついてきます。この節では、そうした組み込みフィールドに
ついて述べます。</p>
<p>各フィールドについて、 <tt class="docutils literal"><span class="pre">widget</span></tt> パラメタを指定しなかったときのデフォルト
のウィジェット型について説明しています。また、データが空の値だったとき
(前述の <tt class="docutils literal"><span class="pre">requied</span></tt> の節を参照してください) に返される値についても定義して
います。</p>
<div class="section" id="s-booleanfield">
<h3><tt class="docutils literal"><span class="pre">BooleanField</span></tt><a class="headerlink" href="#booleanfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.BooleanField">
<!--[django.forms.BooleanField]-->class <tt class="descname">BooleanField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.BooleanField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">CheckboxInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">False</span></tt></li>
<li>Python データへの正規化: Python の <tt class="xref docutils literal"><span class="pre">True</span></tt> または <tt class="xref docutils literal"><span class="pre">False</span></tt> 値</li>
<li><tt class="docutils literal"><span class="pre">required=True</span></tt> の場合、チェックボックスがチェックされているか (値
が <tt class="xref docutils literal"><span class="pre">True</span></tt> であるか) 検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt></li>
</ul>
</dd></dl>

<div class="versionchanged">
<span class="title">Django 1.0 で変更されました:</span> <tt class="docutils literal"><span class="pre">CheckboxInput</span></tt> (および標準の <tt class="docutils literal"><span class="pre">BooleanField</span></tt>) に空の値を指定した場合
のデフォルト値が <tt class="xref docutils literal"><span class="pre">None</span></tt> から <tt class="xref docutils literal"><span class="pre">False</span></tt> に変更されました。</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">全てのフィールドのサブクラスにデフォルトで <tt class="docutils literal"><span class="pre">required=True</span></tt> が設定され
るようになったので、バリデーション条件の設定は重要です。チェックされる
場合とされない場合のあるチェックボックスをフォームに含めたい場合は、
<tt class="docutils literal"><span class="pre">BooleanField</span></tt> を生成する際に <tt class="docutils literal"><span class="pre">required=False</span></tt> を忘れずに指定せねば
なりません。</p>
</div>
</div>
<div class="section" id="s-charfield">
<h3><tt class="docutils literal"><span class="pre">CharField</span></tt><a class="headerlink" href="#charfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.CharField">
<!--[django.forms.CharField]-->class <tt class="descname">CharField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.CharField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空文字列)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクト</li>
<li><tt class="docutils literal"><span class="pre">max_length</span></tt> または <tt class="docutils literal"><span class="pre">min_length</span></tt> が指定された場合、文字列長を検証
します。それ以外の場合、どのような入力も valid とみなします。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">max_length</span></tt>, <tt class="docutils literal"><span class="pre">min_length</span></tt></li>
</ul>
</dd></dl>

<p>オプションの引数が 2 つあります:</p>
<dl class="attribute">
<dt id="django.forms.CharField.max_length">
<!--[django.forms.CharField.max_length]--><tt class="descclassname">CharField.</tt><tt class="descname">max_length</tt><a class="headerlink" href="#django.forms.CharField.max_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.CharField.min_length">
<!--[django.forms.CharField.min_length]--><tt class="descclassname">CharField.</tt><tt class="descname">min_length</tt><a class="headerlink" href="#django.forms.CharField.min_length" title="Permalink to this definition">¶</a></dt>
<dd>これらの引数を指定すると、文字列長が最大、あるいは最小値の条件を満たし
ているか検証します。</dd></dl>

</div>
<div class="section" id="s-choicefield">
<h3><tt class="docutils literal"><span class="pre">ChoiceField</span></tt><a class="headerlink" href="#choicefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.ChoiceField">
<!--[django.forms.ChoiceField]-->class <tt class="descname">ChoiceField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ChoiceField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">Select</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空文字列)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクト</li>
<li>入力値が選択肢内にある値かどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid_choice</span></tt></li>
</ul>
</dd></dl>

<p>必須の引数を一つとります:</p>
<dl class="attribute">
<dt id="django.forms.ChoiceField.choices">
<!--[django.forms.ChoiceField.choices]--><tt class="descclassname">ChoiceField.</tt><tt class="descname">choices</tt><a class="headerlink" href="#django.forms.ChoiceField.choices" title="Permalink to this definition">¶</a></dt>
<dd>イテレーション可能オブジェクト (たとえばリストやタプルなど) で、各要素
はフィールドの選択肢として使える 2 要素のタプルでなければなりません。</dd></dl>

</div>
<div class="section" id="s-typedchoicefield">
<h3><tt class="docutils literal"><span class="pre">TypedChoiceField</span></tt><a class="headerlink" href="#typedchoicefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.TypedChoiceField">
<!--[django.forms.TypedChoiceField]-->class <tt class="descname">TypedChoiceField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.TypedChoiceField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><a title="django.forms.ChoiceField" class="reference internal" href="#django.forms.ChoiceField"><tt class="xref docutils literal"><span class="pre">ChoiceField</span></tt></a> に似ていますが、 <a title="django.forms.TypedChoiceField" class="reference internal" href="#django.forms.TypedChoiceField"><tt class="xref docutils literal"><span class="pre">TypedChoiceField</span></tt></a> には
<tt class="docutils literal"><span class="pre">coerce</span></tt> 引数があります。</p>
<ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">Select</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">empty_value</span></tt> の指定値</li>
<li>Python データへの正規化: <tt class="docutils literal"><span class="pre">coerce</span></tt> 引数の戻り値</li>
<li>入力値が選択肢内にある値かどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid_choice</span></tt></li>
</ul>
<p>以下の追加の引数をとります:</p>
<dl class="attribute">
<dt id="django.forms.TypedChoiceField.coerce">
<!--[django.forms.TypedChoiceField.coerce]--><tt class="descclassname">TypedChoiceField.</tt><tt class="descname">coerce</tt><a class="headerlink" href="#django.forms.TypedChoiceField.coerce" title="Permalink to this definition">¶</a></dt>
<dd>引数を一つとり、型強制した値を返す関数を指定します。例えば、組み込みの
<tt class="docutils literal"><span class="pre">int</span></tt>, <tt class="docutils literal"><span class="pre">float</span></tt>, <tt class="docutils literal"><span class="pre">bool</span></tt> などです。等値関数がデフォルト値として設定
されています。</dd></dl>

<dl class="attribute">
<dt id="django.forms.TypedChoiceField.empty_value">
<!--[django.forms.TypedChoiceField.empty_value]--><tt class="descclassname">TypedChoiceField.</tt><tt class="descname">empty_value</tt><a class="headerlink" href="#django.forms.TypedChoiceField.empty_value" title="Permalink to this definition">¶</a></dt>
<dd>「空の入力」を示すのに使う値です。デフォルト値は空文字列です。 <tt class="xref docutils literal"><span class="pre">None</span></tt>
も良く使う値です。</dd></dl>

</div>
<div class="section" id="s-datefield">
<h3><tt class="docutils literal"><span class="pre">DateField</span></tt><a class="headerlink" href="#datefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.DateField">
<!--[django.forms.DateField]-->class <tt class="descname">DateField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DateField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python <tt class="docutils literal"><span class="pre">datetime.date</span></tt> オブジェクト</li>
<li>入力値が <tt class="docutils literal"><span class="pre">datetime.date</span></tt> や <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> オブジェクト、ま
たは特定の日付フォーマットの形式に従っているか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

<p>以下のオプションの引数をとります:</p>
<dl class="attribute">
<dt id="django.forms.DateField.input_formats">
<!--[django.forms.DateField.input_formats]--><tt class="descclassname">DateField.</tt><tt class="descname">input_formats</tt><a class="headerlink" href="#django.forms.DateField.input_formats" title="Permalink to this definition">¶</a></dt>
<dd>文字列から有効な <tt class="docutils literal"><span class="pre">datetime.date</span></tt> オブジェクトへの変換を試みるために使
われるフォーマット文字列からなるリストです。</dd></dl>

<p><tt class="docutils literal"><span class="pre">input_formats</span></tt> を指定しない場合、デフォルトで以下の入力フォーマットをサ
ポートします:</p>
<div class="highlight"><pre><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%Y&#39;</span><span class="p">,</span> <span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%y&#39;</span><span class="p">,</span> <span class="c"># &#39;2006-10-25&#39;, &#39;10/25/2006&#39;, &#39;10/25/06&#39;</span>
<span class="s">&#39;%b </span><span class="si">%d</span><span class="s"> %Y&#39;</span><span class="p">,</span> <span class="s">&#39;%b </span><span class="si">%d</span><span class="s">, %Y&#39;</span><span class="p">,</span>            <span class="c"># &#39;Oct 25 2006&#39;, &#39;Oct 25, 2006&#39;</span>
<span class="s">&#39;</span><span class="si">%d</span><span class="s"> %b %Y&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s"> %b, %Y&#39;</span><span class="p">,</span>            <span class="c"># &#39;25 Oct 2006&#39;, &#39;25 Oct, 2006&#39;</span>
<span class="s">&#39;%B </span><span class="si">%d</span><span class="s"> %Y&#39;</span><span class="p">,</span> <span class="s">&#39;%B </span><span class="si">%d</span><span class="s">, %Y&#39;</span><span class="p">,</span>            <span class="c"># &#39;October 25 2006&#39;, &#39;October 25, 2006&#39;</span>
<span class="s">&#39;</span><span class="si">%d</span><span class="s"> %B %Y&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s"> %B, %Y&#39;</span><span class="p">,</span>            <span class="c"># &#39;25 October 2006&#39;, &#39;25 October, 2006&#39;</span>
</pre></div>
</div>
<div class="section" id="s-datetimefield">
<h3><tt class="docutils literal"><span class="pre">DateTimeField</span></tt><a class="headerlink" href="#datetimefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.DateTimeField">
<!--[django.forms.DateTimeField]-->class <tt class="descname">DateTimeField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DateTimeField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">DateTimeInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> オブジェクト</li>
<li>入力値が <tt class="docutils literal"><span class="pre">datetime.date</span></tt> や <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> オブジェクト、ま
たは特定の日付フォーマットの形式に従っているか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

<p>以下のオプションの引数をとります:</p>
<dl class="attribute">
<dt id="django.forms.DateTimeField.input_formats">
<!--[django.forms.DateTimeField.input_formats]--><tt class="descclassname">DateTimeField.</tt><tt class="descname">input_formats</tt><a class="headerlink" href="#django.forms.DateTimeField.input_formats" title="Permalink to this definition">¶</a></dt>
<dd>文字列から有効な <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> オブジェクトへの変換を試みるため
に使われるフォーマット文字列からなるリストです。</dd></dl>

<p><tt class="docutils literal"><span class="pre">input_formats</span></tt> を指定しない場合、デフォルトで以下の入力フォーマットをサ
ポートします:</p>
<div class="highlight"><pre><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S&#39;</span><span class="p">,</span>     <span class="c"># &#39;2006-10-25 14:30:59&#39;</span>
<span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M&#39;</span><span class="p">,</span>        <span class="c"># &#39;2006-10-25 14:30&#39;</span>
<span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span>              <span class="c"># &#39;2006-10-25&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%Y %H:%M:%S&#39;</span><span class="p">,</span>     <span class="c"># &#39;10/25/2006 14:30:59&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%Y %H:%M&#39;</span><span class="p">,</span>        <span class="c"># &#39;10/25/2006 14:30&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%Y&#39;</span><span class="p">,</span>              <span class="c"># &#39;10/25/2006&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%y %H:%M:%S&#39;</span><span class="p">,</span>     <span class="c"># &#39;10/25/06 14:30:59&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%y %H:%M&#39;</span><span class="p">,</span>        <span class="c"># &#39;10/25/06 14:30&#39;</span>
<span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%y&#39;</span><span class="p">,</span>              <span class="c"># &#39;10/25/06&#39;</span>
</pre></div>
<div class="versionchanged">
<span class="title">Django 1.0 で変更されました:</span> <tt class="docutils literal"><span class="pre">DateTimeField</span></tt> はデフォルトで <tt class="docutils literal"><span class="pre">TextInput</span></tt> を使っていましたが、変更
されました。</div>
</div>
<div class="section" id="s-decimalfield">
<h3><tt class="docutils literal"><span class="pre">DecimalField</span></tt><a class="headerlink" href="#decimalfield" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<span class="title">Django 1.0 で新たに登場しました.</span> </div>
<dl class="class">
<dt id="django.forms.DecimalField">
<!--[django.forms.DecimalField]-->class <tt class="descname">DecimalField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DecimalField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python の <tt class="docutils literal"><span class="pre">decimal</span></tt> オブジェクト</li>
<li>値が 10 進小数に変換可能か検証します。文字列の先頭および末尾の空白文
字は除去されます。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">max_value</span></tt>,
<tt class="docutils literal"><span class="pre">min_value</span></tt>, <tt class="docutils literal"><span class="pre">max_digits</span></tt>, <tt class="docutils literal"><span class="pre">max_decimal_places</span></tt>,
<tt class="docutils literal"><span class="pre">max_whole_digits</span></tt></li>
</ul>
</dd></dl>

<p>4 つのオプション引数を取ります:</p>
<dl class="attribute">
<dt id="django.forms.DecimalField.max_value">
<!--[django.forms.DecimalField.max_value]--><tt class="descclassname">DecimalField.</tt><tt class="descname">max_value</tt><a class="headerlink" href="#django.forms.DecimalField.max_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.min_value">
<!--[django.forms.DecimalField.min_value]--><tt class="descclassname">DecimalField.</tt><tt class="descname">min_value</tt><a class="headerlink" href="#django.forms.DecimalField.min_value" title="Permalink to this definition">¶</a></dt>
<dd>それぞれ、フィールドの値のとり得る最大／最小値です。</dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.max_digits">
<!--[django.forms.DecimalField.max_digits]--><tt class="descclassname">DecimalField.</tt><tt class="descname">max_digits</tt><a class="headerlink" href="#django.forms.DecimalField.max_digits" title="Permalink to this definition">¶</a></dt>
<dd>最大の桁数 (先頭のゼロ詰め桁を除いた上での小数点前後の桁数の合計) です。</dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.decimal_places">
<!--[django.forms.DecimalField.decimal_places]--><tt class="descclassname">DecimalField.</tt><tt class="descname">decimal_places</tt><a class="headerlink" href="#django.forms.DecimalField.decimal_places" title="Permalink to this definition">¶</a></dt>
<dd><tt class="docutils literal"><span class="pre">decimal_places</span></tt> は小数部の最大桁数です。</dd></dl>

</div>
<div class="section" id="s-emailfield">
<h3><tt class="docutils literal"><span class="pre">EmailField</span></tt><a class="headerlink" href="#emailfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.EmailField">
<!--[django.forms.EmailField]-->class <tt class="descname">EmailField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.EmailField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空文字列)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクト</li>
<li>やや複雑な正規表現を使って、入力値が有効なメールアドレスであるか検証
します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

<p>オプションの引数として、 <tt class="docutils literal"><span class="pre">max_length</span></tt> と <tt class="docutils literal"><span class="pre">min_length</span></tt> の二つをとれます。
これらの引数を指定すると、文字列長が最大、あるいは最小値の条件を満たしてい
るか検証します。</p>
</div>
<div class="section" id="s-filefield">
<h3><tt class="docutils literal"><span class="pre">FileField</span></tt><a class="headerlink" href="#filefield" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<span class="title">Django 1.0 で新たに登場しました.</span> </div>
<dl class="class">
<dt id="django.forms.FileField">
<!--[django.forms.FileField]-->class <tt class="descname">FileField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.FileField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">FileInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: ファイルコンテンツとファイル名を一つのオブジェ
クトとしてラップする <tt class="docutils literal"><span class="pre">UploadedFile</span></tt> オブジェクト。</li>
<li>フォームに結びつけられているファイルデータが空でないか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">missing</span></tt>, <tt class="docutils literal"><span class="pre">empty</span></tt></li>
</ul>
</dd></dl>

<p><tt class="docutils literal"><span class="pre">UploadedFile</span></tt> オブジェクトの詳細は
<a class="reference external" href="../../topics/http/file-uploads.html#topics-file-uploads"><em>ファイルアップロードのドキュメント</em></a> を参照して
ください。</p>
<p><tt class="docutils literal"><span class="pre">FileField</span></tt> をフォームで使う場合、
<a class="reference external" href="../../topics/http/file-uploads.html#topics-file-uploads"><em>フォームにファイルデータを束縛する</em></a>
のを忘れないようにしてください。</p>
</div>
<div class="section" id="s-filepathfield">
<h3><tt class="docutils literal"><span class="pre">FilePathField</span></tt><a class="headerlink" href="#filepathfield" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<span class="title">Django 1.0 で新たに登場しました.</span> </div>
<dl class="class">
<dt id="django.forms.FilePathField">
<!--[django.forms.FilePathField]-->class <tt class="descname">FilePathField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.FilePathField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">Select</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: unicode オブジェクト</li>
<li>入力値が選択肢内にある値かどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid_choice</span></tt></li>
</ul>
</dd></dl>

<p>このフィールドを使うと、あるディレクトリの下にあるファイルを選択できます。
フィールドは以下の 3 つの引数を追加で取り、 <tt class="docutils literal"><span class="pre">path</span></tt> のみ必須の引数です:</p>
<dl class="attribute">
<dt id="django.forms.FilePathField.path">
<!--[django.forms.FilePathField.path]--><tt class="descclassname">FilePathField.</tt><tt class="descname">path</tt><a class="headerlink" href="#django.forms.FilePathField.path" title="Permalink to this definition">¶</a></dt>
<dd>ファイルの一覧を表示したいディレクトリの絶対パスです。実在するディレク
トリを指定せねばなりません。</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.recursive">
<!--[django.forms.FilePathField.recursive]--><tt class="descclassname">FilePathField.</tt><tt class="descname">recursive</tt><a class="headerlink" href="#django.forms.FilePathField.recursive" title="Permalink to this definition">¶</a></dt>
<dd><tt class="xref docutils literal"><span class="pre">False</span></tt> (デフォルト値) の場合、 <tt class="docutils literal"><span class="pre">path</span></tt> の直下にあるファイルのみを選
択肢として表示します。 <tt class="xref docutils literal"><span class="pre">True</span></tt> にすると、 <tt class="docutils literal"><span class="pre">path</span></tt> 以下の全てのファイ
ルを再帰的に探索して選択肢にします。</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.match">
<!--[django.forms.FilePathField.match]--><tt class="descclassname">FilePathField.</tt><tt class="descname">match</tt><a class="headerlink" href="#django.forms.FilePathField.match" title="Permalink to this definition">¶</a></dt>
<dd>正規表現です。この引数を指定すると、正規表現にマッチしたファイル名だけ
を選択肢として表示します。</dd></dl>

</div>
<div class="section" id="s-floatfield">
<h3><tt class="docutils literal"><span class="pre">FloatField</span></tt><a class="headerlink" href="#floatfield" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python の float 型</li>
<li>指定された値が浮動小数点数を表すかどうか検証します。 Python の
<tt class="docutils literal"><span class="pre">float()</span></tt> 関数と同じく、前後に空白があってもかまいません。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">max_value</span></tt>,
<tt class="docutils literal"><span class="pre">min_value</span></tt></li>
</ul>
<p>オプションの引数として、 <tt class="docutils literal"><span class="pre">max_value</span></tt> および <tt class="docutils literal"><span class="pre">min_value</span></tt> をとります。こ
れらの値は、入力値のとりえる値域の調整に使われます。</p>
</div>
<div class="section" id="s-imagefield">
<h3><tt class="docutils literal"><span class="pre">ImageField</span></tt><a class="headerlink" href="#imagefield" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<span class="title">Django 1.0 で新たに登場しました.</span> </div>
<dl class="class">
<dt id="django.forms.ImageField">
<!--[django.forms.ImageField]-->class <tt class="descname">ImageField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ImageField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">FileInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: ファイルコンテンツとファイル名を一つのオブジェ
クトとしてラップする <tt class="docutils literal"><span class="pre">UploadedFile</span></tt> オブジェクト。</li>
<li>空でないファイルデータがフォームに結びつけられていて、かつその内容が
PIL で扱えるファイル形式であるか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">missing</span></tt>, <tt class="docutils literal"><span class="pre">empty</span></tt>,
<tt class="docutils literal"><span class="pre">invalid_image</span></tt></li>
</ul>
</dd></dl>

<p>ImageField を使いたい場合、 <a class="reference external" href="http://www.pythonware.com/products/pil/">Python Imaging Library</a> をインストールしてお
かねばなりません。</p>
<p><tt class="docutils literal"><span class="pre">ImageField</span></tt> をフォームで使う場合、
<a class="reference external" href="../../topics/http/file-uploads.html#topics-file-uploads"><em>フォームにファイルデータを束縛する</em></a>
のを忘れないようにしてください。</p>
</div>
<div class="section" id="s-integerfield">
<h3><tt class="docutils literal"><span class="pre">IntegerField</span></tt><a class="headerlink" href="#integerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.IntegerField">
<!--[django.forms.IntegerField]-->class <tt class="descname">IntegerField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.IntegerField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python 整数型または長整数型</li>
<li>入力値が整数であるか検証します。 Python の <tt class="docutils literal"><span class="pre">int()</span></tt> 関数と同様、先頭
や末尾に空白があってもかまいません。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">max_value</span></tt>,
<tt class="docutils literal"><span class="pre">min_value</span></tt></li>
</ul>
</dd></dl>

<p>以下の二つの引数をとります:</p>
<dl class="attribute">
<dt id="django.forms.IntegerField.max_value">
<!--[django.forms.IntegerField.max_value]--><tt class="descclassname">IntegerField.</tt><tt class="descname">max_value</tt><a class="headerlink" href="#django.forms.IntegerField.max_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.IntegerField.min_value">
<!--[django.forms.IntegerField.min_value]--><tt class="descclassname">IntegerField.</tt><tt class="descname">min_value</tt><a class="headerlink" href="#django.forms.IntegerField.min_value" title="Permalink to this definition">¶</a></dt>
<dd>フィールドのとり得る値の最大値および最小値です。</dd></dl>

</div>
<div class="section" id="s-ipaddressfield">
<h3><tt class="docutils literal"><span class="pre">IPAddressField</span></tt><a class="headerlink" href="#ipaddressfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.IPAddressField">
<!--[django.forms.IPAddressField]-->class <tt class="descname">IPAddressField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.IPAddressField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空の文字列)</li>
<li>Python データへの正規化: Unicode オブジェクト</li>
<li>正規表現を使って、値が正しい IPv4 アドレス形式であるか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

</div>
<div class="section" id="s-multiplechoicefield">
<h3><tt class="docutils literal"><span class="pre">MultipleChoiceField</span></tt><a class="headerlink" href="#multiplechoicefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.MultipleChoiceField">
<!--[django.forms.MultipleChoiceField]-->class <tt class="descname">MultipleChoiceField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.MultipleChoiceField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">SelectMultiple</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">[]</span></tt> (空のリスト)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクトのリスト</li>
<li>入力値のリスト中の全ての値が選択肢内の値であるかどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid_choice</span></tt>, <tt class="docutils literal"><span class="pre">invalid_list</span></tt></li>
</ul>
</dd></dl>

<p>追加の引数として <tt class="docutils literal"><span class="pre">choices</span></tt> をとります。 <tt class="docutils literal"><span class="pre">choices</span></tt> の意味は
<tt class="docutils literal"><span class="pre">ChoiceField</span></tt> の <tt class="docutils literal"><span class="pre">choices</span></tt> と同じです。</p>
</div>
<div class="section" id="s-nullbooleanfield">
<h3><tt class="docutils literal"><span class="pre">NullBooleanField</span></tt><a class="headerlink" href="#nullbooleanfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.NullBooleanField">
<!--[django.forms.NullBooleanField]-->class <tt class="descname">NullBooleanField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.NullBooleanField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">NullBooleanSelect</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: <tt class="xref docutils literal"><span class="pre">True</span></tt>, <tt class="xref docutils literal"><span class="pre">False</span></tt> または <tt class="xref docutils literal"><span class="pre">None</span></tt> 。</li>
<li>バリデーションを実行しません (<tt class="docutils literal"><span class="pre">VaridationError</span></tt> を送出しません)。</li>
</ul>
</dd></dl>

</div>
<div class="section" id="s-regexfield">
<h3><tt class="docutils literal"><span class="pre">RegexField</span></tt><a class="headerlink" href="#regexfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.RegexField">
<!--[django.forms.RegexField]-->class <tt class="descname">RegexField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.RegexField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空文字列)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクト</li>
<li>入力値が特定の正規表現にマッチするかどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

<p>追加の引数を一つ持っています:</p>
<dl class="attribute">
<dt id="django.forms.RegexField.regex">
<!--[django.forms.RegexField.regex]--><tt class="descclassname">RegexField.</tt><tt class="descname">regex</tt><a class="headerlink" href="#django.forms.RegexField.regex" title="Permalink to this definition">¶</a></dt>
<dd><tt class="docutils literal"><span class="pre">regex</span></tt> は正規表現を表す文字列またはコンパイル済みの正規表現オブジェ
クトです。</dd></dl>

<p><tt class="docutils literal"><span class="pre">CharField</span></tt> と同様、 <tt class="docutils literal"><span class="pre">max_length</span></tt> および <tt class="docutils literal"><span class="pre">min_length</span></tt> をとります。</p>
<p>以前のバージョンとの互換性のため、オプション引数 <tt class="docutils literal"><span class="pre">error_message</span></tt> も指定で
きるようになっています。エラーメッセージを指定したければ、
<tt class="docutils literal"><span class="pre">error_messages</span></tt> を使って、 <tt class="docutils literal"><span class="pre">'invalid'</span></tt> をキーにしたメッセージを指定す
るよう薦めます。</p>
</div>
<div class="section" id="s-timefield">
<h3><tt class="docutils literal"><span class="pre">TimeField</span></tt><a class="headerlink" href="#timefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.TimeField">
<!--[django.forms.TimeField]-->class <tt class="descname">TimeField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.TimeField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="xref docutils literal"><span class="pre">None</span></tt></li>
<li>Python データへの正規化: Python <tt class="docutils literal"><span class="pre">datetime.time</span></tt> オブジェクト</li>
<li>入力値が <tt class="docutils literal"><span class="pre">datetime.time</span></tt> オブジェクトまたは特定の日付フォーマットの
形式に従っているか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt></li>
</ul>
</dd></dl>

<p>オプションの引数を一つ持っています:</p>
<dl class="attribute">
<dt id="django.forms.TimeField.input_formats">
<!--[django.forms.TimeField.input_formats]--><tt class="descclassname">TimeField.</tt><tt class="descname">input_formats</tt><a class="headerlink" href="#django.forms.TimeField.input_formats" title="Permalink to this definition">¶</a></dt>
<dd>文字列から有効な <tt class="docutils literal"><span class="pre">datetime.time</span></tt> オブジェクトへの変換を試みるために使
われるフォーマット文字列からなるリストです。</dd></dl>

<p><tt class="docutils literal"><span class="pre">input_formats</span></tt> を指定しない場合、デフォルトで以下の入力フォーマットをサ
ポートします:</p>
<div class="highlight"><pre><span class="s">&#39;%H:%M:%S&#39;</span><span class="p">,</span>     <span class="c"># &#39;14:30:59&#39;</span>
<span class="s">&#39;%H:%M&#39;</span><span class="p">,</span>        <span class="c"># &#39;14:30&#39;</span>
</pre></div>
</div>
<div class="section" id="s-urlfield">
<h3><tt class="docutils literal"><span class="pre">URLField</span></tt><a class="headerlink" href="#urlfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.forms.URLField">
<!--[django.forms.URLField]-->class <tt class="descname">URLField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.URLField" title="Permalink to this definition">¶</a></dt>
<dd><ul class="simple">
<li>デフォルトのウィジェット: <tt class="docutils literal"><span class="pre">TextInput</span></tt></li>
<li>空のフォームデータに対する値: <tt class="docutils literal"><span class="pre">''</span></tt> (空文字列)</li>
<li>Python データへの正規化: Unicode 文字列オブジェクト</li>
<li>入力値が有効な URL であるかどうか検証します。</li>
<li>エラーメッセージのキー: <tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">invalid</span></tt>, <tt class="docutils literal"><span class="pre">invalid_link</span></tt></li>
</ul>
</dd></dl>

<p>以下のオプションの引数をとります:</p>
<dl class="attribute">
<dt id="django.forms.URLField.max_length">
<!--[django.forms.URLField.max_length]--><tt class="descclassname">URLField.</tt><tt class="descname">max_length</tt><a class="headerlink" href="#django.forms.URLField.max_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.URLField.min_length">
<!--[django.forms.URLField.min_length]--><tt class="descclassname">URLField.</tt><tt class="descname">min_length</tt><a class="headerlink" href="#django.forms.URLField.min_length" title="Permalink to this definition">¶</a></dt>
<dd><tt class="docutils literal"><span class="pre">CharField.max_length</span></tt> や <tt class="docutils literal"><span class="pre">CharField.min_length</span></tt> と同じです。</dd></dl>

<dl class="attribute">
<dt id="django.forms.URLField.verify_exists">
<!--[django.forms.URLField.verify_exists]--><tt class="descclassname">URLField.</tt><tt class="descname">verify_exists</tt><a class="headerlink" href="#django.forms.URLField.verify_exists" title="Permalink to this definition">¶</a></dt>
<dd><tt class="xref docutils literal"><span class="pre">True</span></tt> にすると、バリデータが指定された URLをロードできるか調べ、該当
ページの HTTP レスポンスが 404 のときに <tt class="docutils literal"><span class="pre">ValidationError</span></tt> を送出しま
す。デフォルト値は <tt class="xref docutils literal"><span class="pre">False</span></tt> です。</dd></dl>

<dl class="attribute">
<dt id="django.forms.URLField.validator_user_agent">
<!--[django.forms.URLField.validator_user_agent]--><tt class="descclassname">URLField.</tt><tt class="descname">validator_user_agent</tt><a class="headerlink" href="#django.forms.URLField.validator_user_agent" title="Permalink to this definition">¶</a></dt>
<dd>URL が存在するか確かめるときに使うユーザエージェントを表す文字列です。
デフォルト値は <tt class="docutils literal"><span class="pre">URL_VALIDATOR_USER_AGENT</span></tt> 設定の値です。</dd></dl>

</div>
</div>
<div class="section" id="s-id5">
<span id="s-slightly-complex-built-in-field-classes"></span><h2>やや複雑な組み込みフィールドクラス<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>以下のフィールドはまだドキュメント化されていません。</p>
<dl class="class">
<dt id="django.forms.ComboField">
<!--[django.forms.ComboField]-->class <tt class="descname">ComboField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ComboField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="django.forms.MultiValueField">
<!--[django.forms.MultiValueField]-->class <tt class="descname">MultiValueField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.MultiValueField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="django.forms.SplitDateTimeField">
<!--[django.forms.SplitDateTimeField]-->class <tt class="descname">SplitDateTimeField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.SplitDateTimeField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="s-id6">
<span id="s-fields-which-handle-relationships"></span><h2>リレーションを扱うフィールド<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>モデル間のリレーションを表現するために、二つのフィールドが提供されています。
これらのフィールドは、選択肢を <tt class="docutils literal"><span class="pre">QuerySet</span></tt> から取り出します:</p>
<dl class="class">
<dt id="django.forms.ModelChoiceField">
<!--[django.forms.ModelChoiceField]-->class <tt class="descname">ModelChoiceField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ModelChoiceField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="django.forms.ModelMultipleChoiceField">
<!--[django.forms.ModelMultipleChoiceField]-->class <tt class="descname">ModelMultipleChoiceField</tt>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ModelMultipleChoiceField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>これらのフィールドは、入力に応じて、フォームの <tt class="docutils literal"><span class="pre">cleaned_data</span></tt> 辞書内にモ
デルオブジェクトをいれます。どちらのフィールド型にも必須の引数が一つありま
す:</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceField.queryset">
<!--[django.forms.ModelChoiceField.queryset]--><tt class="descclassname">ModelChoiceField.</tt><tt class="descname">queryset</tt><a class="headerlink" href="#django.forms.ModelChoiceField.queryset" title="Permalink to this definition">¶</a></dt>
<dd>フィールドが選択肢として表示するモデルオブジェクトの <tt class="docutils literal"><span class="pre">QuerySet</span></tt> です。
また、フィールドはこの <tt class="docutils literal"><span class="pre">QuerySet</span></tt> を使って、ユーザの選択値が
<tt class="docutils literal"><span class="pre">QuerySet</span></tt> 内に含まれているかを検証します。</dd></dl>

<div class="section" id="s-modelchoicefield">
<h3><tt class="docutils literal"><span class="pre">ModelChoiceField</span></tt><a class="headerlink" href="#modelchoicefield" title="Permalink to this headline">¶</a></h3>
<p>モデルオブジェクト一つを選択できるフィールドです。外部キーを表現するのに適
しています。</p>
<p>フィールドの選択肢として表示される文字列の取得には、モデルオブジェクトの
<tt class="docutils literal"><span class="pre">__unicode__</span></tt> メソッドを使います。表示をカスタマイズしたければ、
<tt class="docutils literal"><span class="pre">ModelChoicefield</span></tt> をサブクラス化して、 <tt class="docutils literal"><span class="pre">label_for_instance</span></tt> メソッドを
オーバライドしてください。このメソッドはモデルオブジェクトを引数にとり、表
示に適した文字列を返さねばなりません:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModelChoiceField</span><span class="p">(</span><span class="n">ModelChoiceField</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">label_from_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;My Object #</span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">obj</span><span class="o">.</span><span class="n">id</span>
</pre></div>
</div>
<div class="section" id="s-modelmultiplechoicefield">
<h3><tt class="docutils literal"><span class="pre">ModelMultipleChoiceField</span></tt><a class="headerlink" href="#modelmultiplechoicefield" title="Permalink to this headline">¶</a></h3>
<p>複数のモデルオブジェクトを選択できるフィールドです。多対多のリレーションを
表現するのに向いています。 <tt class="docutils literal"><span class="pre">ModelChoiceField</span></tt> と同様、オブジェクトの表示
を変更するには <tt class="docutils literal"><span class="pre">label_from_instance</span></tt> メソッドをオーバライドしてください。</p>
</div>
</div>
<div class="section" id="s-id7">
<span id="s-creating-custom-fields"></span><h2>カスタムフィールドの作成<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>組み込みのフィールドクラスが用途に合わなくても、カスタムのフィールドクラス
は簡単に作成できるので大丈夫です。カスタムのフィールドクラスは
<tt class="docutils literal"><span class="pre">django.forms.Field</span></tt> をサブクラス化して作成します。
フィールドクラスを定義する際の制約は、 <tt class="docutils literal"><span class="pre">clean()</span></tt> メソッドを実装すること、
<tt class="docutils literal"><span class="pre">__init__()</span></tt> メソッドにコアの引数 (<tt class="docutils literal"><span class="pre">required</span></tt>, <tt class="docutils literal"><span class="pre">label</span></tt>, <tt class="docutils literal"><span class="pre">initial</span></tt>,
<tt class="docutils literal"><span class="pre">widget</span></tt>, <tt class="docutils literal"><span class="pre">help_text</span></tt>) を持たせることだけです。</p>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference external" href="">フォームフィールド</a><ul>
<li><a class="reference external" href="#id2">フィールドの主な引数</a><ul>
<li><a class="reference external" href="#required"><tt class="docutils literal"><span class="pre">required</span></tt></a></li>
<li><a class="reference external" href="#label"><tt class="docutils literal"><span class="pre">label</span></tt></a></li>
<li><a class="reference external" href="#initial"><tt class="docutils literal"><span class="pre">initial</span></tt></a></li>
<li><a class="reference external" href="#widget"><tt class="docutils literal"><span class="pre">widget</span></tt></a></li>
<li><a class="reference external" href="#help-text"><tt class="docutils literal"><span class="pre">help_text</span></tt></a></li>
<li><a class="reference external" href="#error-messages"><tt class="docutils literal"><span class="pre">error_messages</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#id3">初期値を動的に決定する</a></li>
<li><a class="reference external" href="#id4">組み込みフォームフィールドクラス</a><ul>
<li><a class="reference external" href="#booleanfield"><tt class="docutils literal"><span class="pre">BooleanField</span></tt></a></li>
<li><a class="reference external" href="#charfield"><tt class="docutils literal"><span class="pre">CharField</span></tt></a></li>
<li><a class="reference external" href="#choicefield"><tt class="docutils literal"><span class="pre">ChoiceField</span></tt></a></li>
<li><a class="reference external" href="#typedchoicefield"><tt class="docutils literal"><span class="pre">TypedChoiceField</span></tt></a></li>
<li><a class="reference external" href="#datefield"><tt class="docutils literal"><span class="pre">DateField</span></tt></a></li>
<li><a class="reference external" href="#datetimefield"><tt class="docutils literal"><span class="pre">DateTimeField</span></tt></a></li>
<li><a class="reference external" href="#decimalfield"><tt class="docutils literal"><span class="pre">DecimalField</span></tt></a></li>
<li><a class="reference external" href="#emailfield"><tt class="docutils literal"><span class="pre">EmailField</span></tt></a></li>
<li><a class="reference external" href="#filefield"><tt class="docutils literal"><span class="pre">FileField</span></tt></a></li>
<li><a class="reference external" href="#filepathfield"><tt class="docutils literal"><span class="pre">FilePathField</span></tt></a></li>
<li><a class="reference external" href="#floatfield"><tt class="docutils literal"><span class="pre">FloatField</span></tt></a></li>
<li><a class="reference external" href="#imagefield"><tt class="docutils literal"><span class="pre">ImageField</span></tt></a></li>
<li><a class="reference external" href="#integerfield"><tt class="docutils literal"><span class="pre">IntegerField</span></tt></a></li>
<li><a class="reference external" href="#ipaddressfield"><tt class="docutils literal"><span class="pre">IPAddressField</span></tt></a></li>
<li><a class="reference external" href="#multiplechoicefield"><tt class="docutils literal"><span class="pre">MultipleChoiceField</span></tt></a></li>
<li><a class="reference external" href="#nullbooleanfield"><tt class="docutils literal"><span class="pre">NullBooleanField</span></tt></a></li>
<li><a class="reference external" href="#regexfield"><tt class="docutils literal"><span class="pre">RegexField</span></tt></a></li>
<li><a class="reference external" href="#timefield"><tt class="docutils literal"><span class="pre">TimeField</span></tt></a></li>
<li><a class="reference external" href="#urlfield"><tt class="docutils literal"><span class="pre">URLField</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#id5">やや複雑な組み込みフィールドクラス</a></li>
<li><a class="reference external" href="#id6">リレーションを扱うフィールド</a><ul>
<li><a class="reference external" href="#modelchoicefield"><tt class="docutils literal"><span class="pre">ModelChoiceField</span></tt></a></li>
<li><a class="reference external" href="#modelmultiplechoicefield"><tt class="docutils literal"><span class="pre">ModelMultipleChoiceField</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#id7">カスタムフィールドの作成</a></li>
</ul>
</li>
</ul>

  <h3>前後のページ</h3>
  <ul>
    
      <li>前: <a href="api.html">フォーム API</a></li>
    
    
      <li>次: <a href="widgets.html">ウィジェット</a></li>
    
  </ul>
  <h3>現在のページ:</h3>
  <ul>
      <li>
        <a href="../../index.html">Django v1.0 documentation</a>
        
          <ul><li><a href="../index.html">API リファレンス</a>
        
          <ul><li><a href="index.html">フォーム API</a>
        
        <ul><li>フォームフィールド</li></ul>
        </li></ul></li></ul>
      </li>
  </ul>  

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/ref/forms/fields.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">Aug 31, 2012</p>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="api.html" title="フォーム API">前へ</a> 
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">上へ</a>
   |
    <a href="widgets.html" title="ウィジェット">次へ</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>